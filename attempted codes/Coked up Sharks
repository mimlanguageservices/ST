<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coked-up Sharks - MIM Language Services</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #FFFFFF;
            height: 100vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .header {
            background: #34495E;
            padding: 15px 30px;
            border-bottom: 3px solid #F1C40F;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header-left {
            display: flex;
            flex-direction: column;
        }

        .header h1 {
            color: #FFFFFF;
            font-size: 2.7rem;
            font-weight: 600;
            margin: 0;
        }

        .header-image {
            width: 120px;
            height: 80px;
            border-radius: 8px;
            object-fit: cover;
        }

        .header .website {
            text-align: center;
            margin-top: 5px;
        }

        .header .website a {
            color: #3498db;
            text-decoration: none;
            font-size: 1.35rem;
            font-weight: 500;
        }

        .container {
            display: flex;
            height: calc(100vh - 90px);
        }

        .navigation {
            width: 250px;
            background: #34495E;
            padding: 20px;
            border-right: 3px solid #F1C40F;
        }

        .nav-item {
            padding: 15px 20px;
            margin: 10px 0;
            background: #FFFFFF;
            border: 2px solid #3498db;
            border-radius: 8px;
            color: #34495E;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            font-weight: 600;
            font-size: 1.2rem;
        }

        .nav-item:hover {
            background: #3498db;
            color: #FFFFFF;
            transform: translateY(-2px);
        }

        .nav-item.active {
            background: #F1C40F;
            color: #34495E;
            border-color: #F1C40F;
        }

        .content {
            flex: 1;
            display: flex;
            flex-direction: column;
            height: 100%;
            overflow: hidden;
        }

        .section {
            display: none;
            flex: 1;
            padding: 30px;
            overflow: hidden;
            height: 100%;
        }

        .section.active {
            display: flex;
            flex-direction: column;
        }

        .section h2 {
            color: #34495E;
            margin-bottom: 20px;
            font-size: 2.7rem;
            font-weight: 700;
        }

        /* Discussion Section */
        .discussion-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: auto 1fr 1fr 1fr;
            gap: 20px;
            height: calc(100% - 120px);
        }

        .discussion-header {
            grid-column: 1 / -1;
            display: flex;
            justify-content: flex-end;
            align-items: flex-start;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
        }

        .actual-image {
            width: 300px;
            height: 200px;
            border: 3px solid #34495E;
            border-radius: 10px;
            margin: 0 auto 20px;
            object-fit: cover;
            box-shadow: 0 4px 8px rgba(52, 73, 94, 0.2);
        }

        .discussion-question {
            background: #FFFFFF;
            border: 2px solid #3498db;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(52, 73, 94, 0.1);
        }

        .discussion-question h3 {
            color: #34495E;
            margin-bottom: 10px;
            font-size: 1.65rem;
        }

        .discussion-question p {
            color: #34495E;
            line-height: 1.6;
            font-size: 1.2rem;
        }

        /* Reading Section */
        .reading-container {
            display: flex;
            flex-direction: column;
            height: calc(100% - 120px);
        }

        .reading-nav {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
        }

        .page-btn {
            padding: 8px 16px;
            background: #FFFFFF;
            border: 2px solid #3498db;
            color: #3498db;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1.2rem;
        }

        .page-btn.active {
            background: #3498db;
            color: #FFFFFF;
        }

        .reading-page {
            display: none;
            flex: 1;
            background: #FFFFFF;
            border: 2px solid #34495E;
            border-radius: 10px;
            padding: 30px;
            overflow: auto;
        }

        .reading-page.active {
            display: block;
        }

        .reading-page p {
            color: #34495E;
            line-height: 1.8;
            margin-bottom: 20px;
            font-size: 1.2rem;
        }

        .reading-page h3 {
            color: #34495E;
            margin-bottom: 15px;
            margin-top: 25px;
            font-size: 1.8rem;
        }

        .vocab-link {
            background: #3498db;
            color: #FFFFFF;
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: 600;
            cursor: pointer;
            text-decoration: underline;
            transition: background 0.3s ease;
            position: relative;
            font-size: 1.2rem;
        }

        .vocab-link:hover {
            background: #2980b9;
        }

        .popup-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            display: none;
            align-items: center;
            justify-content: center;
        }

        .popup-content {
            background: #FFFFFF;
            border: 3px solid #3498db;
            border-radius: 10px;
            padding: 30px;
            max-width: 400px;
            margin: 20px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
        }

        .popup-word {
            color: #34495E;
            font-size: 2.1rem;
            font-weight: 700;
            margin-bottom: 10px;
            border-bottom: 2px solid #F1C40F;
            padding-bottom: 5px;
        }

        .popup-definition {
            color: #34495E;
            line-height: 1.6;
            margin-bottom: 20px;
            font-size: 1.35rem;
        }

        .popup-close {
            background: #F1C40F;
            color: #34495E;
            border: none;
            padding: 8px 16px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            float: right;
            font-size: 1.2rem;
        }

        .popup-close:hover {
            background: #f39c12;
        }

        /* Vocabulary Section */
        .vocab-container {
            display: flex;
            flex-direction: column;
            height: calc(100% - 120px);
        }

        .vocab-nav {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .vocab-page {
            display: none;
            flex: 1;
        }

        .vocab-page.active {
            display: block;
        }

        .vocab-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            height: 100%;
        }

        .flashcard {
            background: transparent;
            width: 100%;
            height: 200px;
            perspective: 1000px;
            cursor: pointer;
        }

        .flashcard-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }

        .flashcard.flipped .flashcard-inner {
            transform: rotateY(180deg);
        }

        .flashcard-front, .flashcard-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            border: 2px solid #3498db;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 8px rgba(52, 73, 94, 0.1);
            padding: 20px;
        }

        .flashcard-front {
            background: #FFFFFF;
            color: #34495E;
        }

        .flashcard-back {
            background: #3498db;
            color: #FFFFFF;
            transform: rotateY(180deg);
        }

        .flashcard-term {
            font-weight: 700;
            font-size: 2.1rem;
            text-align: center;
        }

        .flashcard-definition {
            font-weight: 500;
            line-height: 1.4;
            text-align: center;
            font-size: 1.65rem;
        }

        .flashcard-hint {
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 1.2rem;
            color: #7f8c8d;
            opacity: 0.7;
        }

        .flashcard:hover .flashcard-inner {
            box-shadow: 0 8px 16px rgba(52, 73, 94, 0.2);
        }

        /* Quiz Section */
        .quiz-container {
            display: flex;
            flex-direction: column;
            height: calc(100% - 120px);
        }

        .quiz-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .quiz-nav {
            display: flex;
            gap: 10px;
        }

        .progress-container {
            flex: 1;
            margin: 0 20px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #34495E;
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: #F1C40F;
            transition: width 0.3s ease;
            width: 0%;
        }

        .quiz-page {
            display: none;
            flex: 1;
        }

        .quiz-page.active {
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .quiz-question {
            background: #FFFFFF;
            border: 3px solid #3498db;
            border-radius: 10px;
            padding: 40px;
            text-align: center;
            max-width: 800px;
            margin: 0 auto;
        }

        .quiz-question h3 {
            color: #34495E;
            margin-bottom: 30px;
            font-size: 2.1rem;
        }

        .quiz-input {
            width: 100%;
            max-width: 400px;
            padding: 15px 20px;
            border: 3px solid #34495E;
            border-radius: 8px;
            font-size: 1.8rem;
            text-align: center;
            margin: 20px auto;
            display: block;
            font-weight: 600;
        }

        .quiz-input:focus {
            outline: none;
            border-color: #3498db;
        }

        .quiz-input.correct {
            border-color: #27AE60;
            background: #D5FDCB;
        }

        .quiz-input.incorrect {
            border-color: #E74C3C;
            background: #FADBD8;
        }

        .multiple-choice {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 30px 0;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .choice {
            padding: 20px;
            background: #FFFFFF;
            border: 3px solid #34495E;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            color: #34495E;
            font-size: 1.35rem;
        }

        .choice:hover {
            background: #F1C40F;
            border-color: #F1C40F;
        }

        .choice input[type="radio"] {
            display: none;
        }

        .choice.selected {
            background: #3498db;
            color: #FFFFFF;
            border-color: #3498db;
        }

        .choice.correct {
            background: #27AE60;
            color: #FFFFFF;
            border-color: #27AE60;
        }

        .choice.incorrect {
            background: #E74C3C;
            color: #FFFFFF;
            border-color: #E74C3C;
        }

        .check-button {
            background: #F1C40F;
            color: #34495E;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.65rem;
            font-weight: 700;
            margin: 20px auto;
            display: block;
            transition: transform 0.2s ease;
        }

        .check-button:hover {
            transform: translateY(-2px);
        }

        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }

        .nav-btn {
            padding: 10px 20px;
            background: #34495E;
            color: #FFFFFF;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1.2rem;
        }

        .nav-btn:hover {
            background: #3498db;
        }

        .nav-btn:disabled {
            background: #BDC3C7;
            cursor: not-allowed;
        }

        .feedback {
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            font-weight: 600;
            text-align: center;
            font-size: 1.2rem;
        }

        .feedback.correct {
            background: #D5FDCB;
            color: #1B5E20;
            border: 2px solid #27AE60;
        }

        .feedback.incorrect {
            background: #FADBD8;
            color: #B71C1C;
            border: 2px solid #E74C3C;
        }

        .results-summary {
            background: #FFFFFF;
            border: 3px solid #F1C40F;
            border-radius: 10px;
            padding: 40px;
            text-align: center;
            max-width: 600px;
            margin: 0 auto;
        }

        .results-summary h3 {
            color: #34495E;
            font-size: 2.4rem;
            margin-bottom: 20px;
        }

        .score {
            font-size: 3.75rem;
            font-weight: 700;
            color: #F1C40F;
            margin: 20px 0;
        }

        /* Mobile Responsive Styles */
        @media (max-width: 768px) {
            body {
                overflow-y: auto;
                height: auto;
            }

            .header {
                flex-direction: column;
                text-align: center;
                padding: 15px;
            }

            .header h1 {
                font-size: 2.2rem;
                margin-bottom: 10px;
            }

            .header .website a {
                font-size: 1.1rem;
            }

            .header-image {
                width: 80px;
                height: 60px;
                margin-top: 10px;
            }

            .container {
                flex-direction: column;
                height: auto;
            }

            .navigation {
                width: 100%;
                padding: 15px;
                display: flex;
                flex-wrap: wrap;
                gap: 10px;
                justify-content: center;
                border-right: none;
                border-bottom: 3px solid #F1C40F;
            }

            .nav-item {
                flex: 1;
                min-width: 120px;
                margin: 5px;
                font-size: 1rem;
                padding: 12px 15px;
            }

            .content {
                height: auto;
                overflow: visible;
            }

            .section {
                padding: 20px 15px;
                height: auto;
                overflow: visible;
            }

            .section h2 {
                font-size: 2.2rem;
                text-align: center;
                margin-bottom: 25px;
            }

            /* Discussion Section Mobile */
            .discussion-grid {
                display: flex;
                flex-direction: column;
                gap: 20px;
                height: auto;
            }

            .discussion-header {
                order: -1;
            }

            .actual-image {
                width: 250px;
                height: 150px;
                margin: 0 auto 15px;
            }

            .discussion-question h3 {
                font-size: 1.4rem;
            }

            .discussion-question p {
                font-size: 1.1rem;
            }

            /* Reading Section Mobile */
            .reading-container {
                height: auto;
            }

            .reading-nav {
                flex-wrap: wrap;
                gap: 8px;
            }

            .page-btn {
                font-size: 1rem;
                padding: 8px 12px;
                flex: 1;
                min-width: 100px;
            }

            .reading-page {
                height: auto;
                overflow: visible;
                max-height: none;
            }

            .reading-page h3 {
                font-size: 1.6rem;
            }

            .reading-page p {
                font-size: 1.1rem;
                line-height: 1.7;
            }

            /* Video Section Mobile */
            .video-container {
                padding: 10px;
                height: auto !important;
            }

            .video-container > div {
                height: auto !important;
                min-height: 300px;
            }

            /* Video Discussions Mobile */
            .video-discussions-container {
                padding: 15px;
                height: auto;
            }

            /* Vocabulary Section Mobile */
            .vocab-container {
                height: auto;
            }

            .vocab-nav {
                gap: 8px;
            }

            .vocab-grid {
                grid-template-columns: 1fr;
                gap: 15px;
                height: auto;
            }

            .flashcard {
                height: 180px;
            }

            .flashcard-term {
                font-size: 1.8rem;
            }

            .flashcard-definition {
                font-size: 1.4rem;
            }

            .flashcard-hint {
                font-size: 1rem;
            }

            /* Quiz Section Mobile */
            .quiz-container {
                height: auto;
            }

            .quiz-header {
                flex-direction: column;
                gap: 15px;
            }

            .quiz-nav {
                justify-content: center;
            }

            .nav-btn {
                font-size: 1.1rem;
                padding: 12px 20px;
            }

            .quiz-question {
                padding: 30px 20px;
                margin: 0 10px;
            }

            .quiz-question h3 {
                font-size: 1.8rem;
                margin-bottom: 25px;
            }

            .multiple-choice {
                grid-template-columns: 1fr;
                gap: 15px;
                max-width: 100%;
            }

            .choice {
                font-size: 1.2rem;
                padding: 18px;
            }

            .quiz-input {
                font-size: 1.5rem;
                max-width: 100%;
                padding: 12px 15px;
            }

            .check-button {
                font-size: 1.4rem;
                padding: 12px 25px;
                margin: 15px auto;
            }

            .feedback {
                font-size: 1.1rem;
                margin: 15px 10px;
            }

            .results-summary {
                padding: 30px 20px;
                margin: 0 10px;
            }

            .results-summary h3 {
                font-size: 2rem;
            }

            .score {
                font-size: 3rem;
            }

            /* Popup Mobile */
            .popup-content {
                margin: 15px;
                padding: 25px;
                max-width: 90%;
            }

            .popup-word {
                font-size: 1.8rem;
            }

            .popup-definition {
                font-size: 1.2rem;
            }

            .vocab-link {
                font-size: 1.1rem;
                padding: 3px 8px;
                display: inline-block;
                margin: 1px;
            }

            /* Video Discussion Questions Mobile */
            .video-discussions-container > div > div {
                margin: 10px !important;
            }

            .video-discussions-container h3 {
                font-size: 1.8rem !important;
            }

            .video-discussions-container div[style*="background: #FFFFFF"] {
                margin-bottom: 15px !important;
                padding: 15px !important;
            }

            .video-discussions-container div[style*="background: #34495E"] {
                margin-top: 20px !important;
                padding: 15px !important;
            }
        }

        /* Smaller Mobile Devices */
        @media (max-width: 480px) {
            .header h1 {
                font-size: 1.8rem;
            }

            .nav-item {
                font-size: 0.9rem;
                padding: 10px;
                min-width: 100px;
            }

            .section {
                padding: 15px 10px;
            }

            .section h2 {
                font-size: 1.8rem;
            }

            .quiz-question h3 {
                font-size: 1.5rem;
            }

            .flashcard {
                height: 160px;
            }

            .flashcard-term {
                font-size: 1.6rem;
            }

            .flashcard-definition {
                font-size: 1.2rem;
            }

            .reading-page {
                padding: 20px 15px;
            }

            .discussion-question {
                padding: 15px;
            }

            .actual-image {
                width: 200px;
                height: 120px;
            }
        }

        /* Touch-friendly improvements */
        @media (hover: none) and (pointer: coarse) {
            .nav-item,
            .choice,
            .flashcard,
            .vocab-link,
            .check-button,
            .page-btn {
                min-height: 44px;
                display: flex;
                align-items: center;
                justify-content: center;
            }
            
            .vocab-link {
                min-height: 32px;
                line-height: 1.2;
            }
        }
    </style>
</head>
<body>
    <!-- Audio elements for sound effects -->
    <audio id="flipSound" preload="auto">
        <source src="https://static.wixstatic.com/mp3/593d03_f6267363dcfb42e49efc4d6a65189d09.mp3" type="audio/mpeg">
    </audio>
    <audio id="correctSound" preload="auto">
        <source src="https://static.wixstatic.com/mp3/593d03_4391e836785b44ddba85840f97312533.mp3" type="audio/mpeg">
    </audio>

    <div class="header">
        <div class="header-left">
            <h1>Coked-up Sharks</h1>
            <div class="website">
                <a href="https://www.mimlanguageservices.com/" target="_blank">www.mimlanguageservices.com</a>
            </div>
        </div>
        <img src="https://static.wixstatic.com/media/593d03_8958d96b0f6d4d1ea9dffa7f89bffe8b~mv2.png" alt="MIM Logo" class="header-image">
    </div>

    <div class="container">
        <div class="navigation">
            <div class="nav-item active" onclick="showSection('discussion', this)">Discussion</div>
            <div class="nav-item" onclick="showSection('reading', this)">Reading</div>
            <div class="nav-item" onclick="showSection('video', this)">Video</div>
            <div class="nav-item" onclick="showSection('video-discussions', this)">Video Discussions</div>
            <div class="nav-item" onclick="showSection('vocabulary', this)">Vocabulary</div>
            <div class="nav-item" onclick="showSection('quiz', this)">Interactive Quiz</div>
            <div class="nav-item" onclick="openWritingForm(this)">Writing</div>
        </div>

        <div class="content">
            <!-- Discussion Section -->
            <div class="section active" id="discussion">
                <h2>Discussion: Marine Life and Drug Contamination</h2>
                <div class="discussion-grid">
                    <div class="discussion-header">
                        <img src="https://static.wixstatic.com/media/593d03_586d388dee4f4774beabcd1c67987394~mv2.jpg" alt="Marine Research" class="actual-image">
                    </div>
                    
                    <div class="discussion-question">
                        <h3>Ocean Pollution</h3>
                        <p>How do you think drugs like cocaine end up in the ocean? What are the main sources of marine pollution in your area?</p>
                    </div>

                    <div class="discussion-question">
                        <h3>Environmental Impact</h3>
                        <p>What effects might chemical contamination have on marine animals? Should we be concerned about eating seafood from polluted waters?</p>
                    </div>

                    <div class="discussion-question">
                        <h3>Scientific Research</h3>
                        <p>Why is it important to study drug contamination in marine life? How can this research help protect ocean ecosystems?</p>
                    </div>

                    <div class="discussion-question">
                        <h3>Solutions and Prevention</h3>
                        <p>What can governments and individuals do to reduce chemical pollution in oceans? Who should be responsible for cleaning up marine environments?</p>
                    </div>
                </div>
            </div>

            <!-- Reading Section -->
            <div class="section" id="reading">
                <h2>Reading: Cocaine Found in Brazilian Sharks</h2>
                <div class="reading-container">
                    <div class="reading-nav">
                        <button class="page-btn active" onclick="showReadingPage(1, this)">The Discovery</button>
                        <button class="page-btn" onclick="showReadingPage(2, this)">Research Methods</button>
                        <button class="page-btn" onclick="showReadingPage(3, this)">Environmental Impact</button>
                        <button class="page-btn" onclick="showReadingPage(4, this)">Forever Chemicals</button>
                    </div>

                    <div class="reading-page active" id="reading-page-1">
                        <h3>A Shocking Discovery Off Brazil's Coast</h3>
                        <p>
                            In a <span class="vocab-link" onclick="showPopup('groundbreaking', 'New and innovative; pioneering research')">groundbreaking</span> study that has shocked the marine science community, researchers in Brazil have discovered cocaine in sharks. All 13 wild Brazilian sharpnose sharks tested positive for cocaine, with concentrations up to 100 times higher than ever reported in other <span class="vocab-link" onclick="showPopup('aquatic', 'Related to water; living in or near water')">aquatic</span> creatures.
                        </p>
                        <p>
                            The discovery was made by researchers from the Oswaldo Cruz Foundation in Brazil, who <span class="vocab-link" onclick="showPopup('conducted', 'Carried out; performed a study or experiment')">conducted</span> a study to investigate the impact of drug pollution on marine life. This marks the first-ever study to find cocaine in free-range sharks, representing an <span class="vocab-link" onclick="showPopup('astonishing', 'Very surprising or hard to believe')">astonishing</span> development in our understanding of ocean contamination.
                        </p>
                        <p>
                            The study involved <span class="vocab-link" onclick="showPopup('dissecting', 'Cutting apart to study internal parts')">dissecting</span> sharks bought from local fishing <span class="vocab-link" onclick="showPopup('vessels', 'Large boats or ships')">vessels</span>. Muscle and liver tissues were tested using advanced techniques to detect cocaine and its main <span class="vocab-link" onclick="showPopup('metabolite', 'A substance produced during metabolism')">metabolite</span>, benzoylecgonine. Surprisingly, the presence of cocaine was more prevalent in muscle tissue than in the sharks' livers.
                        </p>
                        <p>
                            Scientists believe the drug entered the ocean through <span class="vocab-link" onclick="showPopup('smuggling', 'The illegal movement of goods in or out of a country')">smuggling</span> operations, with large quantities of cocaine being <span class="vocab-link" onclick="showPopup('dumped', 'Disposed of waste or unwanted items carelessly')">dumped</span> into the water around Florida, South, and Central America. This makes marine life an unintended victim of illegal drug trafficking activities.
                        </p>
                    </div>

                    <div class="reading-page" id="reading-page-2">
                        <h3>Advanced Research Techniques</h3>
                        <p>
                            The research team used sophisticated laboratory methods to detect the presence of drugs in shark tissues. They employed <span class="vocab-link" onclick="showPopup('advanced techniques', 'Modern, sophisticated scientific methods')">advanced techniques</span> that could identify even trace amounts of cocaine and its breakdown products in the animals' bodies.
                        </p>
                        <p>
                            The study revealed that all 13 sharks tested showed positive results for cocaine contamination. The concentration levels were particularly high in muscle tissue, which was unexpected as researchers initially thought the liver would show higher concentrations due to its role in processing toxins.
                        </p>
                        <p>
                            This research represents a significant advancement in understanding how illegal drugs affect marine ecosystems. The findings provide <span class="vocab-link" onclick="showPopup('crucial', 'Extremely important or necessary')">crucial</span> evidence of how human criminal activities can have far-reaching environmental consequences.
                        </p>
                        <p>
                            The US Coast Guard <span class="vocab-link" onclick="showPopup('seized', 'Taken possession of something legally')">seized</span> over 14,100 pounds of cocaine in the Caribbean Sea and Atlantic Ocean last year alone, valued at $186 million. This provides context for the scale of drug trafficking that could potentially contaminate marine environments.
                        </p>
                    </div>

                    <div class="reading-page" id="reading-page-3">
                        <h3>Environmental Consequences</h3>
                        <p>
                            The discovery raises serious concerns about the health of our oceans and serves as a <span class="vocab-link" onclick="showPopup('stark reminder', 'A clear and severe indication of something important')">stark reminder</span> of the unintended consequences of human activities on our planet. While the long-term effects of cocaine on sharks and other marine life are still unknown, scientists are concerned about potential impacts on behavior, reproduction, and overall ecosystem health.
                        </p>
                        <p>
                            <span class="vocab-link" onclick="showPopup('contaminants', 'Substances that pollute or make something impure')">Contaminants</span> in marine environments can affect the entire food chain. When predators like sharks are contaminated with drugs, it indicates that the pollution has reached significant levels throughout the marine ecosystem.
                        </p>
                        <p>
                            The research highlights how illegal drug operations impact not only human society but also environmental systems. The <span class="vocab-link" onclick="showPopup('discharge', 'The release of substances into the environment')">discharge</span> of drugs into ocean waters creates pollution that affects marine life far from the original source of contamination.
                        </p>
                        <p>
                            Scientists emphasize that this discovery should serve as a wake-up call about the need for better monitoring and protection of marine environments. The health of ocean ecosystems is directly connected to human activities, both legal and illegal.
                        </p>
                    </div>

                    <div class="reading-page" id="reading-page-4">
                        <h3>Forever Chemicals and Marine Pollution</h3>
                        <p>
                            Beyond illegal drugs, marine environments face contamination from "forever chemicals" known as PFAS (per- and polyfluoroalkyl substances). These <span class="vocab-link" onclick="showPopup('compounds', 'Substances made from two or more chemical elements')">compounds</span> don't break down in the environment and can accumulate in marine animals over time.
                        </p>
                        <p>
                            PFAS chemicals can end up floating in oceans and rivers, where they harm marine life. Aquatic animals can absorb PFAS from water, food, or sediment, leading to health problems that affect their growth, reproduction, and immune systems.
                        </p>
                        <p>
                            The combination of illegal drug contamination and forever chemicals creates multiple threats to marine ecosystems. Fish exposed to these <span class="vocab-link" onclick="showPopup('pharmaceuticals', 'Drugs or medicines used to treat diseases')">pharmaceuticals</span> and industrial chemicals may have problems reproducing or may become sick more frequently.
                        </p>
                        <p>
                            Research into marine pollution reveals that <span class="vocab-link" onclick="showPopup('pesticides', 'Chemicals used to kill or control pests')">pesticides</span>, recreational drugs, and industrial chemicals all contribute to ocean contamination. This affects not only marine life but also humans who consume seafood from contaminated waters.
                        </p>
                        <p>
                            Addressing these pollution problems requires cooperation between different <span class="vocab-link" onclick="showPopup('sectors', 'Distinct parts of an economy, industry, or field of activity')">sectors</span> of society, including government agencies, industries, and environmental organizations working together to protect marine environments.
                        </p>
                    </div>
                </div>
            </div>

            <!-- Video Section -->
            <div class="section" id="video">
                <h2>Video: Marine Life and Chemical Contamination</h2>
                <div class="video-container" style="display: flex; flex-direction: column; height: calc(100% - 120px); padding: 15px; justify-content: center;">
                    <div style="width: 100%; height: 100%; display: flex; justify-content: center; align-items: center;">
                        <div style="width: 95%; max-width: 1000px; position: relative; padding-bottom: 56.25%; height: 0;">
                            <iframe 
                                src="https://video.wixstatic.com/video/593d03_95a86952cfdf421491686cfe6baeb64a/720p/mp4/file.mp4" 
                                style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: 3px solid #34495E; border-radius: 10px; box-shadow: 0 4px 8px rgba(52, 73, 94, 0.2);"
                                frameborder="0" 
                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                allowfullscreen>
                            </iframe>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Video Discussions Section -->
            <div class="section" id="video-discussions">
                <h2>Video Discussions</h2>
                <div class="video-discussions-container" style="display: flex; flex-direction: column; height: calc(100% - 120px); padding: 30px; overflow-y: auto;">
                    <div style="display: flex; flex-direction: column; justify-content: center; align-items: center; min-height: 100%;">
                        <div style="width: 100%; max-width: 900px; background: #f8f9fa; padding: 40px; border-radius: 10px; border: 2px solid #3498db; box-shadow: 0 4px 8px rgba(52, 73, 94, 0.1);">
                            <h3 style="color: #34495E; margin-bottom: 25px; font-size: 2.2rem; text-align: center;">Video Discussion Questions</h3>
                            <div style="color: #34495E; line-height: 1.8; font-size: 1.3rem;">
                                <div style="background: #FFFFFF; padding: 20px; border-radius: 8px; margin-bottom: 20px; border-left: 4px solid #3498db;">
                                    <p style="margin: 0;"><strong>1. Research Methods:</strong> What techniques did scientists use to detect cocaine in the sharks? Why was this discovery considered groundbreaking?</p>
                                </div>
                                <div style="background: #FFFFFF; padding: 20px; border-radius: 8px; margin-bottom: 20px; border-left: 4px solid #F1C40F;">
                                    <p style="margin: 0;"><strong>2. Contamination Sources:</strong> How do illegal drugs enter marine environments? What role do smuggling operations play in ocean pollution?</p>
                                </div>
                                <div style="background: #FFFFFF; padding: 20px; border-radius: 8px; margin-bottom: 20px; border-left: 4px solid #E74C3C;">
                                    <p style="margin: 0;"><strong>3. Environmental Impact:</strong> What are the potential long-term effects of drug contamination on marine ecosystems and food chains?</p>
                                </div>
                                <div style="background: #FFFFFF; padding: 20px; border-radius: 8px; border-left: 4px solid #27AE60;">
                                    <p style="margin: 0;"><strong>4. Solutions:</strong> What steps can be taken to reduce chemical pollution in oceans? How can international cooperation help address marine contamination?</p>
                                </div>
                            </div>
                            <div style="margin-top: 30px; padding: 20px; background: #34495E; border-radius: 8px; color: #FFFFFF; text-align: center;">
                                <p style="margin: 0; font-size: 1.1rem; font-weight: 500;">🐋 <strong>Discussion Tip:</strong> Consider the connection between human activities and environmental consequences. Think about both immediate and long-term impacts on marine life.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Vocabulary Section -->
            <div class="section" id="vocabulary">
                <h2>Key Vocabulary</h2>
                <div class="vocab-container">
                    <div class="vocab-nav">
                        <button class="page-btn active" onclick="showVocabPage(1, this)">Core Terms 1</button>
                        <button class="page-btn" onclick="showVocabPage(2, this)">Core Terms 2</button>
                    </div>

                    <div class="vocab-page active" id="vocab-page-1">
                        <div class="vocab-grid">
                            <div class="flashcard" onclick="flipCard(this)">
                                <div class="flashcard-inner">
                                    <div class="flashcard-front">
                                        <div class="flashcard-term">Groundbreaking</div>
                                        <div class="flashcard-hint">Click to see definition</div>
                                    </div>
                                    <div class="flashcard-back">
                                        <div class="flashcard-definition">New and innovative; pioneering research</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="flashcard" onclick="flipCard(this)">
                                <div class="flashcard-inner">
                                    <div class="flashcard-front">
                                        <div class="flashcard-term">Conducted</div>
                                        <div class="flashcard-hint">Click to see definition</div>
                                    </div>
                                    <div class="flashcard-back">
                                        <div class="flashcard-definition">Carried out; performed a study or experiment</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="flashcard" onclick="flipCard(this)">
                                <div class="flashcard-inner">
                                    <div class="flashcard-front">
                                        <div class="flashcard-term">Vessels</div>
                                        <div class="flashcard-hint">Click to see definition</div>
                                    </div>
                                    <div class="flashcard-back">
                                        <div class="flashcard-definition">Large boats or ships</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="flashcard" onclick="flipCard(this)">
                                <div class="flashcard-inner">
                                    <div class="flashcard-front">
                                        <div class="flashcard-term">Metabolite</div>
                                        <div class="flashcard-hint">Click to see definition</div>
                                    </div>
                                    <div class="flashcard-back">
                                        <div class="flashcard-definition">A substance produced during metabolism</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="vocab-page" id="vocab-page-2">
                        <div class="vocab-grid">
                            <div class="flashcard" onclick="flipCard(this)">
                                <div class="flashcard-inner">
                                    <div class="flashcard-front">
                                        <div class="flashcard-term">Smuggling</div>
                                        <div class="flashcard-hint">Click to see definition</div>
                                    </div>
                                    <div class="flashcard-back">
                                        <div class="flashcard-definition">The illegal movement of goods in or out of a country</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="flashcard" onclick="flipCard(this)">
                                <div class="flashcard-inner">
                                    <div class="flashcard-front">
                                        <div class="flashcard-term">Dumped</div>
                                        <div class="flashcard-hint">Click to see definition</div>
                                    </div>
                                    <div class="flashcard-back">
                                        <div class="flashcard-definition">Disposed of waste or unwanted items carelessly</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="flashcard" onclick="flipCard(this)">
                                <div class="flashcard-inner">
                                    <div class="flashcard-front">
                                        <div class="flashcard-term">Seized</div>
                                        <div class="flashcard-hint">Click to see definition</div>
                                    </div>
                                    <div class="flashcard-back">
                                        <div class="flashcard-definition">Taken possession of something legally</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="flashcard" onclick="flipCard(this)">
                                <div class="flashcard-inner">
                                    <div class="flashcard-front">
                                        <div class="flashcard-term">Contaminants</div>
                                        <div class="flashcard-hint">Click to see definition</div>
                                    </div>
                                    <div class="flashcard-back">
                                        <div class="flashcard-definition">Substances that pollute or make something impure</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Quiz Section -->
            <div class="section" id="quiz">
                <h2>Interactive Quiz</h2>
                <div class="quiz-container">
                    <div class="quiz-header">
                        <div class="quiz-nav">
                            <button class="nav-btn" onclick="previousQuestion()" id="prevBtn">Previous</button>
                        </div>
                        <div class="progress-container">
                            <div class="progress-bar">
                                <div class="progress-fill" id="progressFill"></div>
                            </div>
                        </div>
                        <div class="quiz-nav">
                            <button class="nav-btn" onclick="nextQuestion()" id="nextBtn">Next</button>
                        </div>
                    </div>

                    <!-- Question 1 -->
                    <div class="quiz-page active" id="quiz-page-1">
                        <div class="quiz-question">
                            <h3>How many sharks tested positive for cocaine in the Brazilian study?</h3>
                            <div class="multiple-choice">
                                <div class="choice" onclick="selectChoice(this, 'A')">
                                    <input type="radio" name="q1" value="A">
                                    10 out of 13 sharks
                                </div>
                                <div class="choice" onclick="selectChoice(this, 'B')">
                                    <input type="radio" name="q1" value="B">
                                    All 13 sharks
                                </div>
                                <div class="choice" onclick="selectChoice(this, 'C')">
                                    <input type="radio" name="q1" value="C">
                                    5 out of 13 sharks
                                </div>
                                <div class="choice" onclick="selectChoice(this, 'D')">
                                    <input type="radio" name="q1" value="D">
                                    Only 3 sharks
                                </div>
                            </div>
                            <button class="check-button" onclick="checkAnswer(1, 'B')">Check Answer</button>
                            <div class="feedback" id="feedback-1" style="display: none;"></div>
                        </div>
                    </div>

                    <!-- Question 2 -->
                    <div class="quiz-page" id="quiz-page-2">
                        <div class="quiz-question">
                            <h3>Complete the sentence: "The study was _____ because it was the first of its kind."</h3>
                            <input type="text" class="quiz-input" id="answer-2" placeholder="Enter the missing word">
                            <button class="check-button" onclick="checkTextAnswer(2, 'groundbreaking')">Check Answer</button>
                            <div class="feedback" id="feedback-2" style="display: none;"></div>
                        </div>
                    </div>

                    <!-- Question 3 -->
                    <div class="quiz-page" id="quiz-page-3">
                        <div class="quiz-question">
                            <h3>How do scientists believe cocaine entered the ocean?</h3>
                            <div class="multiple-choice">
                                <div class="choice" onclick="selectChoice(this, 'A')">
                                    <input type="radio" name="q3" value="A">
                                    From pharmaceutical companies
                                </div>
                                <div class="choice" onclick="selectChoice(this, 'B')">
                                    <input type="radio" name="q3" value="B">
                                    Through smuggling operations
                                </div>
                                <div class="choice" onclick="selectChoice(this, 'C')">
                                    <input type="radio" name="q3" value="C">
                                    From medical waste
                                </div>
                                <div class="choice" onclick="selectChoice(this, 'D')">
                                    <input type="radio" name="q3" value="D">
                                    From natural sources
                                </div>
                            </div>
                            <button class="check-button" onclick="checkAnswer(3, 'B')">Check Answer</button>
                            <div class="feedback" id="feedback-3" style="display: none;"></div>
                        </div>
                    </div>

                    <!-- Question 4 -->
                    <div class="quiz-page" id="quiz-page-4">
                        <div class="quiz-question">
                            <h3>What does "vessels" mean in this context?</h3>
                            <div class="multiple-choice">
                                <div class="choice" onclick="selectChoice(this, 'A')">
                                    <input type="radio" name="q4" value="A">
                                    Blood vessels in the sharks
                                </div>
                                <div class="choice" onclick="selectChoice(this, 'B')">
                                    <input type="radio" name="q4" value="B">
                                    Large boats or ships
                                </div>
                                <div class="choice" onclick="selectChoice(this, 'C')">
                                    <input type="radio" name="q4" value="C">
                                    Laboratory containers
                                </div>
                                <div class="choice" onclick="selectChoice(this, 'D')">
                                    <input type="radio" name="q4" value="D">
                                    Ocean currents
                                </div>
                            </div>
                            <button class="check-button" onclick="checkAnswer(4, 'B')">Check Answer</button>
                            <div class="feedback" id="feedback-4" style="display: none;"></div>
                        </div>
                    </div>

                    <!-- Question 5 -->
                    <div class="quiz-page" id="quiz-page-5">
                        <div class="quiz-question">
                            <h3>Complete: "A _____ is a substance produced during metabolism."</h3>
                            <input type="text" class="quiz-input" id="answer-5" placeholder="Enter the missing word">
                            <button class="check-button" onclick="checkTextAnswer(5, 'metabolite')">Check Answer</button>
                            <div class="feedback" id="feedback-5" style="display: none;"></div>
                        </div>
                    </div>

                    <!-- Question 6 -->
                    <div class="quiz-page" id="quiz-page-6">
                        <div class="quiz-question">
                            <h3>What are "contaminants"?</h3>
                            <div class="multiple-choice">
                                <div class="choice" onclick="selectChoice(this, 'A')">
                                    <input type="radio" name="q6" value="A">
                                    Substances that clean the environment
                                </div>
                                <div class="choice" onclick="selectChoice(this, 'B')">
                                    <input type="radio" name="q6" value="B">
                                    Substances that pollute or make something impure
                                </div>
                                <div class="choice" onclick="selectChoice(this, 'C')">
                                    <input type="radio" name="q6" value="C">
                                    Natural ocean minerals
                                </div>
                                <div class="choice" onclick="selectChoice(this, 'D')">
                                    <input type="radio" name="q6" value="D">
                                    Fish food
                                </div>
                            </div>
                            <button class="check-button" onclick="checkAnswer(6, 'B')">Check Answer</button>
                            <div class="feedback" id="feedback-6" style="display: none;"></div>
                        </div>
                    </div>

                    <!-- Question 7 -->
                    <div class="quiz-page" id="quiz-page-7">
                        <div class="quiz-question">
                            <h3>"Smuggling" refers to:</h3>
                            <input type="text" class="quiz-input" id="answer-7" placeholder="The illegal movement of...">
                            <button class="check-button" onclick="checkTextAnswer(7, 'goods')">Check Answer</button>
                            <div class="feedback" id="feedback-7" style="display: none;"></div>
                        </div>
                    </div>

                    <!-- Question 8 -->
                    <div class="quiz-page" id="quiz-page-8">
                        <div class="quiz-question">
                            <h3>According to the text, where was cocaine more prevalent in the sharks?</h3>
                            <div class="multiple-choice">
                                <div class="choice" onclick="selectChoice(this, 'A')">
                                    <input type="radio" name="q8" value="A">
                                    In the liver tissue
                                </div>
                                <div class="choice" onclick="selectChoice(this, 'B')">
                                    <input type="radio" name="q8" value="B">
                                    In the muscle tissue
                                </div>
                                <div class="choice" onclick="selectChoice(this, 'C')">
                                    <input type="radio" name="q8" value="C">
                                    In the brain tissue
                                </div>
                                <div class="choice" onclick="selectChoice(this, 'D')">
                                    <input type="radio" name="q8" value="D">
                                    In the blood
                                </div>
                            </div>
                            <button class="check-button" onclick="checkAnswer(8, 'B')">Check Answer</button>
                            <div class="feedback" id="feedback-8" style="display: none;"></div>
                        </div>
                    </div>

                    <!-- Results Page -->
                    <div class="quiz-page" id="quiz-results">
                        <div class="results-summary">
                            <h3>Quiz Complete!</h3>
                            <div class="score" id="finalScore">0/8</div>
                            <p>Excellent work! You've completed the Coked-up Sharks quiz.</p>
                            <button class="check-button" onclick="restartQuiz()">Try Again</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Vocabulary Popup -->
    <div class="popup-overlay" id="vocabPopup">
        <div class="popup-content">
            <div class="popup-word" id="popupWord"></div>
            <div class="popup-definition" id="popupDefinition"></div>
            <button class="popup-close" onclick="closePopup()">Close</button>
        </div>
    </div>

    <script>
        // Global variables
        let currentQuizPage = 1;
        let totalQuizPages = 8;
        let quizAnswers = {};
        let correctAnswers = 0;

        // Navigation functions
        function showSection(sectionName, element) {
            // Hide all sections
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => section.classList.remove('active'));
            
            // Remove active class from all nav items
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => item.classList.remove('active'));
            
            // Show selected section
            document.getElementById(sectionName).classList.add('active');
            
            // Add active class to clicked nav item
            if (element) {
                element.classList.add('active');
            }
        }

        function openWritingForm(element) {
            // Remove active class from all nav items
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => item.classList.remove('active'));
            
            // Add active class to clicked nav item
            if (element) {
                element.classList.add('active');
            }
            
            // Open Google Forms in new tab
            window.open('https://docs.google.com/forms/d/e/1FAIpQLSf6v6zehRoYaUcx_8_QFHvAinuSXBSiS1AD3spnZIn_zQIdMQ/viewform?usp=header', '_blank');
            
            // Remove active class after a short delay to show it was clicked
            setTimeout(() => {
                if (element) {
                    element.classList.remove('active');
                }
                // Reset to discussion tab as default
                document.querySelectorAll('.nav-item')[0].classList.add('active');
            }, 300);
        }

        function showReadingPage(pageNum, element) {
            // Hide all reading pages
            const pages = document.querySelectorAll('.reading-page');
            pages.forEach(page => page.classList.remove('active'));
            
            // Remove active class from all page buttons
            const buttons = document.querySelectorAll('.reading-nav .page-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            
            // Show selected page
            document.getElementById('reading-page-' + pageNum).classList.add('active');
            
            // Add active class to clicked button
            if (element) {
                element.classList.add('active');
            }
        }

        function showVocabPage(pageNum, element) {
            // Hide all vocab pages
            const pages = document.querySelectorAll('.vocab-page');
            pages.forEach(page => page.classList.remove('active'));
            
            // Remove active class from all page buttons
            const buttons = document.querySelectorAll('.vocab-nav .page-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            
            // Show selected page
            document.getElementById('vocab-page-' + pageNum).classList.add('active');
            
            // Add active class to clicked button
            if (element) {
                element.classList.add('active');
            }
        }

        // Flashcard function with sound effect
        function flipCard(card) {
            card.classList.toggle('flipped');
            
            // Play sound effect
            const flipSound = document.getElementById('flipSound');
            if (flipSound) {
                flipSound.currentTime = 0; // Reset to start
                flipSound.play().catch(e => {
                    // Handle any audio play errors silently
                    console.log('Audio playback failed:', e);
                });
            }
        }

        // Vocabulary popup functions
        function showPopup(word, definition) {
            document.getElementById('popupWord').textContent = word.charAt(0).toUpperCase() + word.slice(1);
            document.getElementById('popupDefinition').textContent = definition;
            document.getElementById('vocabPopup').style.display = 'flex';
        }

        function closePopup() {
            document.getElementById('vocabPopup').style.display = 'none';
        }

        // Quiz functions
        function selectChoice(element, value) {
            // Remove selected class from all choices in this question
            const choices = element.parentNode.querySelectorAll('.choice');
            choices.forEach(choice => choice.classList.remove('selected'));
            
            // Add selected class to clicked choice
            element.classList.add('selected');
            
            // Actually check the radio button
            const radioInput = element.querySelector('input[type="radio"]');
            if (radioInput) {
                radioInput.checked = true;
            }
        }

        function checkAnswer(questionNum, correctAnswer) {
            const selectedChoice = document.querySelector(`input[name="q${questionNum}"]:checked`);
            const feedback = document.getElementById(`feedback-${questionNum}`);
            const choices = document.querySelectorAll(`input[name="q${questionNum}"]`);
            
            if (!selectedChoice) {
                alert('Please select an answer first!');
                return;
            }
            
            // Show feedback
            feedback.style.display = 'block';
            
            if (selectedChoice.value === correctAnswer) {
                feedback.textContent = 'Correct! Well done!';
                feedback.className = 'feedback correct';
                quizAnswers[questionNum] = true;
                
                // Play correct answer sound effect
                const correctSound = document.getElementById('correctSound');
                if (correctSound) {
                    correctSound.currentTime = 0; // Reset to start
                    correctSound.play().catch(e => {
                        // Handle any audio play errors silently
                        console.log('Correct sound playback failed:', e);
                    });
                }
                
                // Mark correct answer
                choices.forEach(choice => {
                    const choiceDiv = choice.parentNode;
                    if (choice.value === correctAnswer) {
                        choiceDiv.classList.add('correct');
                    }
                });
            } else {
                feedback.textContent = 'Incorrect. Try again!';
                feedback.className = 'feedback incorrect';
                quizAnswers[questionNum] = false;
                
                // Mark answers
                choices.forEach(choice => {
                    const choiceDiv = choice.parentNode;
                    if (choice.value === correctAnswer) {
                        choiceDiv.classList.add('correct');
                    } else if (choice.checked) {
                        choiceDiv.classList.add('incorrect');
                    }
                });
            }
            
            updateProgress();
        }

        function checkTextAnswer(questionNum, correctAnswer) {
            const userAnswer = document.getElementById(`answer-${questionNum}`).value.trim();
            const feedback = document.getElementById(`feedback-${questionNum}`);
            const input = document.getElementById(`answer-${questionNum}`);
            
            if (!userAnswer) {
                alert('Please enter an answer first!');
                return;
            }
            
            feedback.style.display = 'block';
            
            if (userAnswer.toLowerCase() === correctAnswer.toLowerCase()) {
                feedback.textContent = 'Correct! Well done!';
                feedback.className = 'feedback correct';
                input.classList.add('correct');
                quizAnswers[questionNum] = true;
                
                // Play correct answer sound effect
                const correctSound = document.getElementById('correctSound');
                if (correctSound) {
                    correctSound.currentTime = 0; // Reset to start
                    correctSound.play().catch(e => {
                        // Handle any audio play errors silently
                        console.log('Correct sound playback failed:', e);
                    });
                }
            } else {
                feedback.textContent = `Incorrect. The correct answer is: ${correctAnswer}`;
                feedback.className = 'feedback incorrect';
                input.classList.add('incorrect');
                quizAnswers[questionNum] = false;
            }
            
            updateProgress();
        }

        function updateProgress() {
            const answeredQuestions = Object.keys(quizAnswers).length;
            const progressPercent = (answeredQuestions / totalQuizPages) * 100;
            document.getElementById('progressFill').style.width = progressPercent + '%';
            
            if (answeredQuestions === totalQuizPages) {
                setTimeout(() => {
                    showResults();
                }, 2000);
            }
        }

        function showResults() {
            correctAnswers = Object.values(quizAnswers).filter(answer => answer).length;
            document.getElementById('finalScore').textContent = `${correctAnswers}/${totalQuizPages}`;
            
            // Hide all quiz pages
            const pages = document.querySelectorAll('.quiz-page');
            pages.forEach(page => page.classList.remove('active'));
            
            // Show results
            document.getElementById('quiz-results').classList.add('active');
        }

        function nextQuestion() {
            if (currentQuizPage < totalQuizPages) {
                document.getElementById(`quiz-page-${currentQuizPage}`).classList.remove('active');
                currentQuizPage++;
                document.getElementById(`quiz-page-${currentQuizPage}`).classList.add('active');
                updateNavButtons();
            }
        }

        function previousQuestion() {
            if (currentQuizPage > 1) {
                document.getElementById(`quiz-page-${currentQuizPage}`).classList.remove('active');
                currentQuizPage--;
                document.getElementById(`quiz-page-${currentQuizPage}`).classList.add('active');
                updateNavButtons();
            }
        }

        function updateNavButtons() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            
            prevBtn.disabled = (currentQuizPage === 1);
            nextBtn.disabled = (currentQuizPage === totalQuizPages);
        }

        function restartQuiz() {
            // Reset all variables
            currentQuizPage = 1;
            quizAnswers = {};
            correctAnswers = 0;
            
            // Reset progress bar
            document.getElementById('progressFill').style.width = '0%';
            
            // Hide results and show first question
            document.getElementById('quiz-results').classList.remove('active');
            document.getElementById('quiz-page-1').classList.add('active');
            
            // Reset all inputs and feedback
            const inputs = document.querySelectorAll('.quiz-input');
            inputs.forEach(input => {
                input.value = '';
                input.classList.remove('correct', 'incorrect');
            });
            
            const feedbacks = document.querySelectorAll('.feedback');
            feedbacks.forEach(feedback => {
                feedback.style.display = 'none';
            });
            
            const choices = document.querySelectorAll('.choice');
            choices.forEach(choice => {
                choice.classList.remove('selected', 'correct', 'incorrect');
            });
            
            const radioInputs = document.querySelectorAll('input[type="radio"]');
            radioInputs.forEach(radio => {
                radio.checked = false;
            });
            
            updateNavButtons();
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            updateNavButtons();
            
            // Close popup when clicking outside
            document.getElementById('vocabPopup').addEventListener('click', function(e) {
                if (e.target === this) {
                    closePopup();
                }
            });
        });
    </script>
</body>
</html>
